import{G as l,j as r,a as e,S as m,F as h,A as o}from"./app-B9U2JZak.js";import{A as x}from"./AuthenticatedLayout-CRIt46Rc.js";import"./ApplicationLogo-DbIKbxyr.js";import"./transition-CN9N3QAu.js";function w({auth:t,cartItems:n,errors:d}){const{post:a,processing:s}=l(),p=()=>{confirm("Are you sure you want to place this order?")&&a(route("checkout.store"))},u=n.reduce((i,c)=>i+Number(c.product.price)*c.quantity,0);return r(x,{auth:t,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Shopping Cart"}),children:[e(m,{title:"Cart"}),e("div",{className:"py-12 bg-gray-100 min-h-screen",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6",children:n.length===0?r("div",{className:"text-center py-10 text-gray-500",children:["Your cart is empty. ",e("br",{}),e("a",{href:route("products.index"),className:"text-indigo-600 hover:text-indigo-800 underline mt-2 inline-block",children:"Go Shopping"})]}):r(h,{children:[e("div",{className:"hidden sm:block",children:r("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:r("tr",{children:[e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(i=>e(g,{item:i},i.id))})]})}),e("div",{className:"mt-8 flex justify-end items-center border-t pt-6",children:r("div",{className:"text-right",children:[e("p",{className:"text-lg text-gray-600",children:"Subtotal"}),r("p",{className:"text-3xl font-bold text-gray-900",children:["$",u.toFixed(2)]}),e("form",{onSubmit:i=>{i.preventDefault(),p()},children:e("button",{type:"submit",disabled:s,className:"mt-4 inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s?"Processing...":"Checkout"})})]})})]})})})})]})}function g({item:t}){l({quantity:t.quantity});const n=a=>{a<1||o.patch(route("cart.update",t.id),{quantity:a},{preserveScroll:!0})},d=()=>{o.delete(route("cart.destroy",t.id),{preserveScroll:!0})};return r("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"text-sm font-medium text-gray-900",children:t.product.name})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:r("div",{className:"text-sm text-gray-500",children:["$",t.product.price]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("input",{type:"number",id:`quantity-${t.id}`,name:"quantity",min:"1",className:"w-20 rounded border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 text-sm",defaultValue:t.quantity,onChange:a=>n(a.target.value)})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:r("div",{className:"text-sm font-bold text-gray-900",children:["$",(t.quantity*t.product.price).toFixed(2)]})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e("button",{onClick:d,className:"text-red-600 hover:text-red-900",children:"Remove"})})]})}export{w as default};
