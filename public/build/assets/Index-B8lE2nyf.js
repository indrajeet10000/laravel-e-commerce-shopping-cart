import{G as l,j as t,a as e,S as h,F as u,A as o}from"./app-DVnIZKP_.js";import{A as x}from"./AuthenticatedLayout-Dy0Z3GCm.js";import"./ApplicationLogo-1byssZGy.js";import"./transition-o8FRHM6e.js";function w({auth:r,cartItems:i,errors:d}){const{post:a,processing:s}=l(),p=()=>{confirm("Are you sure you want to place this order?")&&a(route("checkout.store"))},m=i.reduce((n,c)=>n+Number(c.product.price)*c.quantity,0);return t(x,{auth:r,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Shopping Cart"}),children:[e(h,{title:"Cart"}),e("div",{className:"py-12 bg-gray-100 min-h-screen",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:t("div",{className:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6",children:[d&&d.error&&e("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded transition-all",children:d.error}),i.length===0?t("div",{className:"text-center py-10 text-gray-500",children:["Your cart is empty. ",e("br",{}),e("a",{href:route("products.index"),className:"text-indigo-600 hover:text-indigo-800 underline mt-2 inline-block",children:"Go Shopping"})]}):t(u,{children:[e("div",{className:"hidden sm:block",children:t("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(n=>e(g,{item:n},n.id))})]})}),e("div",{className:"mt-8 flex justify-end items-center border-t pt-6",children:t("div",{className:"text-right",children:[e("p",{className:"text-lg text-gray-600",children:"Subtotal"}),t("p",{className:"text-3xl font-bold text-gray-900",children:["$",m.toFixed(2)]}),e("button",{onClick:p,disabled:s,className:"mt-4 inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s?"Processing...":"Checkout"})]})})]})]})})})]})}function g({item:r}){l({quantity:r.quantity});const i=a=>{a<1||o.patch(route("cart.update",r.id),{quantity:a},{preserveScroll:!0})},d=()=>{o.delete(route("cart.destroy",r.id),{preserveScroll:!0})};return t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"text-sm font-medium text-gray-900",children:r.product.name})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"text-sm text-gray-500",children:["$",r.product.price]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("input",{type:"number",min:"1",className:"w-20 rounded border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 text-sm",defaultValue:r.quantity,onChange:a=>i(a.target.value)})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"text-sm font-bold text-gray-900",children:["$",(r.quantity*r.product.price).toFixed(2)]})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e("button",{onClick:d,className:"text-red-600 hover:text-red-900",children:"Remove"})})]})}export{w as default};
